{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>Main</title>
{% endblock meta %}

{% block content %}


<!-- Hero Section -->
<section class=" py-16 min-h-fit md:py-[120px] bg-primary text-black1">
    <div class="flex flex-col items-center mx-auto max-w-7xl md:flex-row">

        <div class="w-full p-8 lg:w-1/2 lg:p-16 max-md:text-center">
          <h1 class="text-4xl font-extrabold lg:text-6xl font-header">Bali Delights</h1>
          <p class="mt-4 text-lg lg:text-xl font-body">
            Discover the best local products from the heart of Bali. From handmade crafts to exotic snacks, we bring the island's charm right to your doorstep.
          </p>
        </div>
        <div class="flex items-center justify-center w-full lg:w-1/2 h-80 lg:h-auto">
          <img src="{% static 'images/hero-image.png' %}" alt="Bali Delights Hero" class="object-cover w-full max-w-sm md:max-w-lg ">
        </div>
    </div>
</section>

 <!-- Products Section -->
<section class="py-20 bg-white1">
  <div class="container mx-auto text-center">
    <h2 class="text-3xl font-bold font-header text-black1">Explore Over <span class="underline underline-offset-2 font-header text-accent">100</span> Products</h2>
    <p class="mt-4 text-lg text-gray-700 font-body">
      Discover the best of Bali with our curated selection of local products.
    </p>
    <div class="grid grid-cols-1 gap-8 mt-8 sm:grid-cols-2 lg:grid-cols-3">
      <!-- Loop through top products -->
      {% comment %} {% for product in top_products %}
      <div class="p-4 border rounded-lg shadow-md border-secondary">
        <img src="{{ product.image.url }}" alt="{{ product.name }}" class="object-cover w-full h-48 rounded-md">
        <h3 class="mt-4 text-xl font-semibold font-header">{{ product.name }}</h3>
        <p class="text-sm text-gray-600 font-body">{{ product.description|truncatewords:10 }}</p>
        <p class="mt-2 font-bold text-accent">{{ product.price|floatformat:2 }} USD</p>
      </div>
      {% endfor %} {% endcomment %}
    </div>
    {% comment %} <a href="{% url 'main:product_list' %}" class="inline-block px-8 py-3 mt-8 text-white transition rounded-md bg-secondary font-body hover:bg-accent">Explore All Products</a> {% endcomment %}
  </div>
</section>

<!-- Top Reviews Section -->
<section class="py-20 bg-primary text-black1">
  <div class="container mx-auto text-center">
    <h2 class="text-3xl font-bold font-header">What Our Customers Say</h2>
    <p class="mt-4 text-lg text-gray-700 font-body">
      Hear from some of our satisfied customers.
    </p>
    <div class="flex flex-wrap justify-center gap-8 mt-8">
      <!-- Loop through top reviews -->
      {% comment %} {% for review in top_reviews %}
      <div class="w-full p-6 bg-white border rounded-lg shadow-lg sm:w-1/2 lg:w-1/3 border-secondary">
        <p class="text-sm text-gray-700 font-body">{{ review.text|truncatewords:20 }}</p>
        <div class="mt-4 text-sm font-bold text-secondary">- {{ review.user.username }}</div>
        <div class="flex items-center mt-2">
          {% for i in "12345" %}
          <svg class="w-5 h-5 {{ review.rating|floatformat >= i|yesno:'text-accent,text-gray-300' }}" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 15l5.2 3.1-1.4-5.8L18 8.7l-6-.5L10 3 8 8.2 2 8.7l4.2 3.6-1.4 5.8z" />
          </svg>
          {% endfor %}
        </div>
      </div>
      {% endfor %} {% endcomment %}
    </div>
  </div>
</section> 

<!-- Join Now Section -->
{% if not user.is_authenticated %}
<section class="py-20 bg-white1 text-black1">
  <div class="container mx-auto text-center">
    <h2 class="text-3xl font-bold font-header">Join the Bali Delights Community</h2>
    <p class="mt-4 text-lg font-body">Sign up to enjoy a personalized shopping experience and exclusive offers.</p>
    <div class="flex justify-center gap-4 mt-8">
       <a href="{% url 'main:login' %}" class="px-6 py-2 mr-2 font-bold text-center transition duration-300 border rounded hover:opacity-80 text-accent border-accent">
        Login
        </a>

        <a href="{% url 'main:register' %}" class="px-6 py-2 font-bold text-center transition duration-300 rounded bg-accent hover:opacity-80 text-white1">
        Register
        </a>
    </div>
  </div>
</section>
{% endif %} 

{% endblock content %}